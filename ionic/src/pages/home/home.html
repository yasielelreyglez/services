<!-- <ion-header>

        <ion-navbar hideBackButton="false">
            <ion-title text-center>
                LOGO
            </ion-title>
            <app-header *ngIf="!connetionDown"></app-header>
        </ion-navbar>

    </ion-header> -->
<ion-header>
    <app-header [show]="!connetionDown"></app-header>
</ion-header>

<ion-content padding>
    <ng-container *ngIf="!connetionDown; else elseTemplate">
        <ion-searchbar id="search" (ionInput)="onInput($event)" (ionClear)="onCancel($event)" (keypress)="goSearch($event.keyCode)" placeholder="¿Que buscas?" #search></ion-searchbar>
        <ng-container *ngIf="busqueda; else topCategories">
            <p *ngIf="noFound">No hay resultados </p>
            <ion-list>
                <ion-item *ngFor="let serv of services; let i = index">
                    <ion-grid>
                        <ion-row>
                            <ion-col col-4>
                                <img (tap)="viewImg(serv.icon)" [src]="serv.icon ? serv.icon : 'assets/imgs/service_img.png' ">
                            </ion-col>

                            <ion-col col-8>
                                <h2 class="serv-title ">{{serv.title }} </h2>

                                <hr class="hr-separador">
                                <ion-row>
                                    <ion-col>
                                        <p>Calificación: {{serv.globalrate}}/10</p>
                                        <p>Distancia: 5 km</p>
                                    </ion-col>
                                </ion-row>
                                <ion-row>
                                    <ion-col col-auto>
                                        <p> Categoria:</p>
                                    </ion-col>
                                    <ion-col col-auto>
                                        <p *ngFor="let cat of serv.subcategoriesList; let i = index">
                                            <ng-container *ngIf="i > 0; else elseTemplate">
                                                ,{{ cat.title}}
                                            </ng-container>
                                            <ng-template #elseTemplate>
                                                {{ cat.title}}
                                            </ng-template>
                                        </p>
                                    </ion-col>
                                </ion-row>
                            </ion-col>

                        </ion-row>

                        <ion-row>
                            <ion-col col-12>
                                <button ion-button full color="azul-claro" (click)='openServicePage(serv.id,serv)'>
                  <ion-icon name="checkmark"></ion-icon>&nbsp;Ver detalle
                </button>
                            </ion-col>

                        </ion-row>
                    </ion-grid>

                </ion-item>

            </ion-list>
        </ng-container>

    </ng-container>

    <ng-template #elseTemplate>
        <ion-label class="fs-20" text-center text-wrap>No tienes conexión a Internet. Activa el Wi-Fi o los datos móviles, y vuelve a intentarlo.</ion-label>

        <button color="azul-claro" ion-button block margin-bottom="2" (click)="reConnect()">
      Reintentar
    </button>
    </ng-template>
    <ng-template #topCategories>

        <ion-label text-center color="azul-claro">Principales tendencias</ion-label>
        <ion-list>
            <button *ngFor="let sub of subCategories" class="specific-button" text-left color="azul-claro" ion-button block margin-bottom="1" (click)='openServicesPage(sub.id)'>
        <img src="{{sub.icon}}" alt="" height="36">
        &nbsp;{{sub.title}}
      </button>

        </ion-list>

        <ion-grid>
            <ion-row>
                <ion-col>

                </ion-col>
                <ion-col col-10>
                    <button color="azul-oscuro" float-left class="btn-text-left specific-button" ion-button block margin-bottom="2" (click)="openCategoriesPage()">
            <ion-icon name="search" class="fs-25"></ion-icon>
            &nbsp;Buscar por categoria
          </button>
                </ion-col>
                <ion-col>

                </ion-col>
            </ion-row>

        </ion-grid>


        <p *ngIf=loggedIn>esta logueado</p>
        <p *ngIf=!loggedIn>No esta logueado</p>

    </ng-template>
</ion-content>