<ion-header>

    <ion-navbar>
        <ion-title>Comentarios</ion-title>
    </ion-navbar>

</ion-header>


<ion-content padding>
    <serv-up-info [passedService]="service" [cantComentarios]="cant_c" (rateService)="rateService($event)"></serv-up-info>
    <div *ngIf="currentUser">
        <ion-label text-center color="azul-claro">
            Escribe tu comentario
        </ion-label>
        <ion-textarea name="comentario" [(ngModel)]="comentario" #com="ngModel" rows="3" placeholder="Escribe tu comentario"></ion-textarea>
        <button (click)="comentar()" [disabled]="!comentario" class="btn-text-left" text-left color="azul-claro" ion-button block margin-bottom="1">
        <ion-icon class="fs-30" name="chatboxes" ></ion-icon>
        &nbsp;Comentar
      </button>
    </div>
    <ion-label text-center color="azul-claro">
        Comentarios anterioles
    </ion-label>

    <ion-list>
        <ion-item *ngFor="let comment of comentarios">
            <p float-left class="azul-claro">{{comment.user.username}}</p>
            <p float-right class="azul-claro"> {{comment.created.date | date:'yyyy-M-d'}}</p>

            <div style="clear: both;"></div>
            <p text-wrap>{{comment.comment}}</p>
            <div style="clear: both;"></div>
            <p float-right>
                <!-- <button *ngIf="currentUser" (click)="showPromptDenuncia(comment.id)" ion-button icon-only color="danger">
                    <ion-icon class="fs-30"  name="more" ></ion-icon>
                  </button> -->
                <button *ngIf="currentUser" (click)="presentPopover($event)" ion-button color="danger" small icon-only>
                    <ion-icon name="more"></ion-icon>
                  </button>

                <span *ngIf="currentUser.email == service.author.email && service.professional === 1">
                <button (click) ="toggleComment(comment.id,comment.hided)" ion-button icon-only [color]="comment.hided ? 'danger':'secondary'">
                      <ion-icon class="fs-30"   [name]="comment.hided ? 'close':'checkmark'"></ion-icon>
                    </button>
                    </span>

            </p>


        </ion-item>

    </ion-list>



</ion-content>
